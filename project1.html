<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SBAR WINDS Smart Irrigation Control System</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 2em;
      transition: background-color 0.3s, color 0.3s;
    }

    .light-mode {
      background-color: #f8f9fa;
      color: #222;
    }

    .dark-mode {
      background-color: #121212;
      color: #ddd;
    }

    h1, h2 {
      color: inherit;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 1em 0;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    ul {
      padding-left: 1.2em;
    }

    .toggle-container {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #fff;
      border-radius: 5px;
      padding: 8px 12px;
      border: 1px solid #ccc;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
      font-size: 0.9em;
      cursor: pointer;
      z-index: 999;
    }

    .dark-mode .toggle-container {
      background-color: #333;
      color: #eee;
      border-color: #555;
    }

    .back-button {
      position: fixed;
      top: 10px;
      left: 10px;
      background: #fff;
      padding: 8px 12px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-weight: bold;
      text-decoration: none;
      color: #000;
      z-index: 999;
    }

    .dark-mode .back-button {
      background: #333;
      color: #eee;
      border-color: #555;
    }
  </style>
</head>
<body class="light-mode">
  <a href="index.html" class="back-button">‚¨Ö Back to Home</a>
  <div class="toggle-container" onclick="toggleMode()">üåô Toggle Dark Mode</div>

  <h1>SBAR WINDS Smart Irrigation Control System</h1>

  <p>Used Systems Engineering fundamentals to develop a Raspberry Pi-based control system to automate the irrigation of guayule fields for the $15M+ Sustainable Bioeconomy in Arid Regions (SBAR) research project. Coordinated with university and USDA researchers to define design criteria and created software scripts, an electrical wiring diagram, and a functioning prototype.</p>

  <h2>Wiring Diagram</h2>
  <img src="WINDS_SHIP_Electrical_Wiring_Diagram.png" alt="Electrical Wiring Diagram" />

  <p>This system distributes 120VAC power into three regulated outputs‚Äî24VAC, 12VDC, and 5VDC‚Äîto support a range of automation and sensing components, with surge and circuit protection at every stage. Incoming 120VAC is routed through a Class III surge protector, with the hot wire protected by a 2A breaker before branching to three power supplies: a 24VAC transformer, a 12VDC supply, and a 5VDC supply. Each supply has its own surge breaker (0.5A, 10A, and 8A respectively) and feeds into dedicated distribution blocks.</p>

  <p>The 5VDC system powers 13 devices, including a Raspberry Pi, GSM shield, Bluetooth transmitter, 5 flow meters, and 5 pressure transducers. The 12VDC system powers the UC32 pulse counter, a 0‚Äì10V ADC board, two 8-channel relay boards, and an 8" display monitor via a barrel jack. The 24VAC system operates only the irrigation solenoid valves and is isolated from ground for safety.</p>

  <p>Relay boards manage power routing and control. Relay Control Board #1 selectively routes valve neutral lines either to ground (for SHIP bypass) or to the internal system. Relay Control Board #2 toggles 24VAC hot lines to the valves, enabling irrigation control when relays on Board #1 permit it.</p>

  <p>Flow meters connect through terminal blocks and feed digital pulses to the UC32, while pressure transducers send analog voltage signals to the ADC. Pull-down resistors tied to the DC Negative Bus ensure clean logic levels and accurate readings.</p>

  <p>All DC negative and ground wires route to a shared Ground Bus, bonded to the enclosure for safety. If a hot wire contacts the enclosure, a low-resistance short trips a breaker instantly, protecting users and equipment.</p>

  <h2>Field Deployment Hardware</h2>
  <img src="c971b6e2-23ea-4481-855d-2b98d4ae9bd7.png" alt="Irrigation Valve Array Photo" />
  <p>Shown above is the actual irrigation valve array the system was designed to control. These electrically actuated solenoid valves are responsible for distributing water to separate zones of guayule field rows. The prototype wiring and relay system was engineered to safely deliver 24VAC to open/close these valves automatically based on control logic and sensor feedback.</p>

  <h2>Bench Testing: Arduino Pulse Counter with Flow Meter</h2>
  <img src="1e1aebf0-57fb-4819-a5e5-0fa066df140f.png" alt="Arduino-based pulse counter with Netafim flow meter" />
  <p>As part of the design effort, we needed to measure flow rate from five Netafim 36M251 1‚Äù analog flowmeters with pulse output (approx. $156 each). Off-the-shelf 5-channel pulse counters were prohibitively expensive, often exceeding $400, while single-channel loggers started around $200. In comparison, digital flow meters cost around $600 each.</p>

  <p>Each flow meter uses a magnetically actuated reed switch that closes once per gallon of water passing through it. By connecting one end to a voltage source and the other to a voltage-sensing pin, we could count the number of pulses over time and convert that into a real-time flowrate.</p>

  <p>We prototyped a custom Arduino-based pulse counter as a side project. Though it caused some delays, the results were successful. The final design supports five flow meter inputs for under $35 total ‚Äî dramatically reducing system cost.</p>

  <p>The Arduino counted pulses, calculated flowrates, and passed data to the Raspberry Pi via USB, forming the core of our low-cost, scalable sensor subsystem.</p>

  <h2>System Integration Testbed</h2>
  <img src="97656398-d0c0-4100-8356-10cce12171e4.png" alt="Irrigation system prototype hardware testbed" />
  <p>This image shows the functional testbed used to validate the core architecture of the irrigation control system. Key components include:</p>
  <ul>
    <li><strong>Raspberry Pi</strong> ‚Äì the system‚Äôs primary controller</li>
    <li><strong>I2C Shield</strong> ‚Äì enabled the Pi to interface with I2C devices</li>
    <li><strong>GSM Shield</strong> ‚Äì provided cellular data connectivity</li>
    <li><strong>I2C Relay Board</strong> ‚Äì actuated solenoid valves and routed power</li>
    <li><strong>I2C Analog Input Board</strong> ‚Äì captured pressure transducer signals</li>
    <li><strong>Touchscreen Display</strong> ‚Äì user interface for local control</li>
  </ul>
  <p>This testbed allowed early validation of communication protocols, power architecture, and control logic under realistic conditions.</p>

  <script>
    function toggleMode() {
      const body = document.body;
      const isDark = body.classList.contains("dark-mode");
      body.classList.toggle("dark-mode", !isDark);
      body.classList.toggle("light-mode", isDark);
      localStorage.setItem("theme", isDark ? "light" : "dark");
    }

    window.onload = () => {
      const saved = localStorage.getItem("theme");
      if (saved === "dark") {
        document.body.classList.remove("light-mode");
        document.body.classList.add("dark-mode");
      }
    };
  </script>
</body>
</html>
